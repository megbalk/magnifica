#### LOAD PACKAGES ----
require(stringr)
require(dplyr)
require(ggplot2)
require(reshape2)
require(lmodel2)
require(tidyverse)
#### LOAD PACKAGES ----
require(stringr)
#### LOAD DATA ----
output <- read.csv("./Data/output.csv", header = TRUE)
setwd("~/Documents/GitHub/bryozoa/magnifica/Scripts")
setwd("~/Documents/GitHub/bryozoa/magnifica")
#### LOAD DATA ----
output <- read.csv("./Data/output.csv", header = TRUE)
colnames(output )
df.images <- read.table("./Data/filteredImages.csv",
header = TRUE,
sep = ";")
colnames(df.images )
head(output$id)
install.packages(""XML"")
install.packages(XML")
install.packages("XML")
require(utils)
## Meghan A. Balk
## meghan.balk@nhm.uio.no
## This code:
# 1) reduces image list to those with 30 magnification
#### LOAD PACKAGES ----
require(stringr)
require(dplyr)
require(ggplot2)
require(reshape2)
require(lmodel2)
require(tidyverse)
require(stringr)
#### LOAD DATA ----
bryo.images <- read.table("./Data/Steginoporella_magnifica_image_metadata_17Apr2023.csv",
header = TRUE,
sep = ";")
nrow(bryo.images) #1890
bryo.images.30 <- bryo.images[bryo.images$Magnification == 30,]
nrow(bryo.images.30) #1835
##### add in full file name #####
bryo.images.30$fileName.tif <- paste0(bryo.images.30$fileName, ".tif")
#### CREATE OLD FILE NAMES - DELETE LATER ####
recon.df <- read.table("~/Desktop/image_merge_txt_usingfileName_DONE_17Apr2023.csv",
header = TRUE, sep = ";")
#### LOAD DATA ----
bryo.images <- read.table("./Data/Steginoporella_magnifica_image_metadata_17Apr2023.csv",
header = TRUE,
sep = ";")
nrow(bryo.images) #1890
bryo.images.30 <- bryo.images[bryo.images$Magnification == 30,]
nrow(bryo.images.30) #1835
##### add in full file name #####
bryo.images.30$fileName.tif <- paste0(bryo.images.30$fileName, ".tif")
#### CREATE OLD FILE NAMES - DELETE LATER ####
recon.df <- read.table("./Data/image_merge_txt_usingfileName_DONE_17Apr2023.csv",
header = TRUE, sep = ";")
setdiff(recon.df$newFileName, bryo.images$fileName) #none
setdiff(bryo.images$fileName, recon.df$newFileName) #none
##### combine files to get path #####
recon.df.path <- recon.df[, c("newFileName", "path.tif")]
bryo.images.path <- merge(bryo.images.30, recon.df.path,
by.x = "fileName", by.y = "newFileName",
all.x = TRUE, all.y = FALSE)
nrow(bryo.images.path)
images.df <- read.csv("filteredImages.csv", header = TRUE)
images.df <- read.csv("./Data/filteredImages.csv", header = TRUE)
colnames(images.df)
images.df <- read.table("./Data/filteredImages.csv", header = TRUE, sep = ";")
colnames(images.df)
image.form <- images.df %>% group_by(formation) %>% summarise(N = n()) %>% as.data.frame()
image.form
sort(image.form)
sort(image.form$MN)
sort(image.form$N)
require(xml2)
